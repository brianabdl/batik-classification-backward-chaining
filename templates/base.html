<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Batik Expert System (DB)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { box-sizing: border-box; }
    body { font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; margin:0; background: #667eea; min-height:100vh; }
    /* header { backdrop-filter: blur(10px); color:white; padding:1.2rem 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); position: sticky; top: 0; z-index: 100; } */
    header a { color: black; margin-right:1.5rem; text-decoration:none; font-weight:600; transition: all 0.3s; display: inline-block; }
    header a:hover { color: #6b7280; }
    main { max-width:1200px; margin:2rem auto; background: white; padding:2rem; border-radius:16px; box-shadow:0 20px 60px rgba(0,0,0,0.15); }
    label { font-weight:600; display:block; margin:0.5rem 0 0.3rem; color: #374151; }
    input[type="text"], input[type="number"], input[type="file"], textarea { width:100%; padding:0.75rem 1rem; border-radius:8px; border:2px solid #e5e7eb; transition: all 0.3s; font-size: 1rem; }
    input[type="text"]:focus, input[type="number"]:focus, textarea:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
    .btn { background: #764ba2; color:white; padding:0.85rem 2rem; border-radius:10px; border:none; cursor:pointer; font-weight:700; font-size:1.05rem; transition: all 0.3s; box-shadow: 0 4px 12px rgba(102,126,234,0.4); }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102,126,234,0.5); }
    .btn:active { transform: translateY(0); }
    .grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr)); gap:1.5rem; }
    .result { border-left:4px solid #667eea; padding:1.5rem; background: linear-gradient(135deg, #f0f4ff 0%, #faf5ff 100%); margin-top:1.5rem; border-radius:12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);}
    table { width:100%; border-collapse:collapse; margin-top:0.8rem; }
    th, td { padding:0.7rem 0.8rem; border-bottom:1px solid #e5e7eb; text-align:left; }
    th { background: #f9fafb; font-weight: 700; color: #374151; }
    .badge { padding:0.3rem 0.8rem; border-radius:999px; font-weight:700; font-size:0.85rem; }
    .success { background:#dcfce7; color:#14532d; }
    .danger { background:#fee2e2; color:#7f1d1d; }
    footer { text-align:center; color:#e0e7ff; margin-top:2rem; padding: 1.5rem; font-size:0.9rem; }
    .flash { padding:0.8rem 1.2rem; border-radius:8px; margin-bottom:0.8rem; }
    .muted { color:#6b7280; font-size:0.95rem; }
    
    /* Toggle Switch Styles */
    .toggle-group { display: flex; align-items: center; gap: 0.8rem; margin: 0.8rem 0; padding: 0.8rem 1rem; background: #f9fafb; border-radius: 10px; transition: all 0.3s; }
    .toggle-group:hover { background: #f3f4f6; }
    .toggle-label { flex: 1; font-weight: 500; color: #374151; font-size: 0.95rem; }
    .toggle-switch { position: relative; display: inline-block; width: 56px; height: 28px; }
    .toggle-switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #cbd5e1; border-radius: 28px; transition: .3s; }
    .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; border-radius: 50%; transition: .3s; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
    input:checked + .slider { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    input:checked + .slider:before { transform: translateX(28px); }
    
    /* Section Cards */
    .section-card { background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; transition: all 0.3s; }
    .section-card:hover { border-color: #667eea; box-shadow: 0 4px 12px rgba(102,126,234,0.1); }
    .section-header { display: flex; align-items: center; gap: 0.8rem; margin-bottom: 1rem; color: #667eea; }
    .section-header i { font-size: 1.5rem; }
    .section-header h3 { margin: 0; font-size: 1.2rem; color: #1f2937; }
    
    /* Quick Preset Buttons */
    .preset-buttons { display: flex; gap: 0.8rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .preset-btn { padding: 0.5rem 1rem; border-radius: 8px; border: 2px solid #e5e7eb; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.9rem; }
    .preset-btn:hover { border-color: #667eea; color: #667eea; transform: translateY(-2px); }
    .preset-btn.active { background: #667eea; color: white; border-color: #667eea; }
    
    /* Number Input with Icons */
    .input-with-icon { position: relative; }
    .input-with-icon i { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #9ca3af; }
    .input-with-icon input { padding-left: 2.8rem; }
    
    /* Image Upload Area */
    .upload-area { border: 3px dashed #d1d5db; border-radius: 12px; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.3s; background: #fafafa; }
    .upload-area:hover { border-color: #667eea; background: #f0f4ff; }
    .upload-area i { font-size: 3rem; color: #9ca3af; margin-bottom: 1rem; }
  </style>
</head>
<body>
<main>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, msg in messages %}
        <div class="flash" style="background:#fff4e6; border-left:4px solid #f59e0b;">{{ msg }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  {% block content %}{% endblock %}
</main>
<footer>
  Batik Expert System â€” Backward Chaining with persistent storage (SQLite)
</footer>
</body>
</html>
